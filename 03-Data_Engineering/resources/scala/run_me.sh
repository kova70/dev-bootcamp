#!/usr/bin/env bash
scp -i ~/.ssh/bootcamp example.py centos@ec2-35-162-238-120.us-west-2.compute.amazonaws.com:
ssh -i ~/.ssh/bootcamp centos@ec2-35-162-238-120.us-west-2.compute.amazonaws.com "export PYSPARK_PYTHON=/usr/bin/python3.6;spark-submit --jars /opt/cloudera/parcels/CDH/jars/hive-warehouse-connector-assembly-1.0.0.7.1.0.2-4.jar --conf spark.sql.hive.hiveserver2.jdbc.url='jdbc:hive2://${hiveserver2}:2181/default;serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=hiveserver2' --conf spark.datasource.hive.warehouse.load.staging.dir=/tmp --conf spark.datasource.hive.warehouse.metastoreUri='thrift://${hiveMetastore}:9083' --conf spark.security.credentials.hiveserver2.enabled=false --conf spark.datasource.hive.warehouse.user.name=hive --conf spark.datasource.hive.warehouse.password=hive --conf spark.datasource.hive.warehouse.smartExecution=false --conf spark.hadoop.hive.zookeeper.quorum=${zookeeperQuorum} --master local example.py"

